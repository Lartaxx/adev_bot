"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ButtonsManager = void 0;
const loadFiles_1 = require("../utils/loadFiles");
/**
 * Manager for Buttons
 */
class ButtonsManager {
    /**
     * Constructor to manage buttons
     * @param {ShewenyClient} client Client framework
     * @param {string} directory Directory of the buttons folder
     * @param {boolean} [loadAll] If the buttons are loaded during bot launch
     */
    constructor(client, directory, loadAll) {
        if (!client)
            throw new TypeError("Client must be provided.");
        if (!directory)
            throw new TypeError("Directory must be provided.");
        this.client = client;
        this.directory = directory;
        if (loadAll)
            this.loadAll();
        client.handlers.buttons = this;
    }
    /**
     * Load all buttons in collection
     * @returns {Promise<Collection<string[], Button>>}
     */
    async loadAll() {
        const buttons = await (0, loadFiles_1.loadFiles)(this.client, this.directory, "customId");
        this.client.collections.buttons = buttons;
        this.buttons = buttons;
        return buttons;
    }
}
exports.ButtonsManager = ButtonsManager;
