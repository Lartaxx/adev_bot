"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getTemplateDirectory = void 0;
const promises_1 = require("fs/promises");
const fs_1 = require("fs");
const path_1 = require("path");
const chalk = require("chalk");
async function getTemplateDirectory(options) {
    try {
        const templateDir = (0, path_1.resolve)(require.main.path, "../lib/templates/create", options.template);
        await (0, promises_1.access)(templateDir, fs_1.constants.R_OK);
        options = {
            ...options,
            templateDirectory: templateDir,
        };
        return options;
    }
    catch (err) {
        console.log(`${chalk.red.bold("ERROR")} An error occurred while retrieving the template`);
        return process.exit(1);
    }
}
exports.getTemplateDirectory = getTemplateDirectory;
