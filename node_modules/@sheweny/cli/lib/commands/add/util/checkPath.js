"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.checkPath = void 0;
const chalk = require("chalk");
const fs_1 = require("fs");
const promises_1 = require("fs/promises");
const path_1 = require("path");
const resolveHandlersDir_1 = require("./resolveHandlersDir");
async function checkPath(options) {
    try {
        const pathDir = (0, path_1.join)(process.cwd(), (0, resolveHandlersDir_1.resolveHandlersDir)(options));
        await (0, promises_1.access)(pathDir, fs_1.constants.R_OK);
        options = {
            ...options,
            target: pathDir,
        };
        return options;
    }
    catch (err) {
        console.log(`${chalk.red.bold("ERROR")} The path for ${options.addType} handler doesn't exist`);
        return process.exit(1);
    }
}
exports.checkPath = checkPath;
