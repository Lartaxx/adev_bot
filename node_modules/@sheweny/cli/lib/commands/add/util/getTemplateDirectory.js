"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getTemplateDirectory = void 0;
const chalk = require("chalk");
const fs_1 = require("fs");
const promises_1 = require("fs/promises");
const path_1 = require("path");
async function getTemplateDirectory(options) {
    try {
        const templateDir = (0, path_1.resolve)(require.main.path, "../lib/templates/add", `${options.addType}.js`);
        console.log(`${options.addType}.js`);
        console.log(require.main.path);
        console.log(templateDir);
        await (0, promises_1.access)(templateDir, fs_1.constants.R_OK);
        options = {
            ...options,
            templateDirectory: templateDir,
        };
        return options;
    }
    catch (err) {
        console.log(`${chalk.red.bold("ERROR")} The path for the ${options.addType} template is not found`);
        return process.exit(1);
    }
}
exports.getTemplateDirectory = getTemplateDirectory;
